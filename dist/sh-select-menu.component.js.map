{"version":3,"file":"sh-select-menu.component.js","sourceRoot":"","sources":["../src/sh-select-menu.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAAqH;AACrH,mDAAwD;AAkDxD,IAAa,qBAAqB;IAjDlC;QAoDc,kBAAa,GAAqB,IAAI,mBAAY,EAAO,CAAC;QAEpE,SAAI,GAAO,IAAI,CAAC;IAkBpB,CAAC;IAhBY,sBAAI,uCAAI;aAAR,UAAS,GAAS;YACvB,EAAE,CAAA,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA,CAAC;gBACtB,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;YACnD,CAAC;YAED,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YAEjB,EAAE,CAAA,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;YACpC,CAAC;QACL,CAAC;;;OAAA;IAAA,CAAC;IAEF,8CAAc,GAAd,UAAe,GAAG;QACd,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACjC,CAAC;IAEL,4BAAC;AAAD,CAAC,AAvBD,IAuBC;AAtBY;IAAR,YAAK,EAAE;;6DAAsB;AACrB;IAAR,YAAK,EAAE;;qDAAgB;AACd;IAAT,aAAM,EAAE;8BAAe,mBAAY;4DAAgC;AACjC;IAAlC,gBAAS,CAAC,uCAAsB,CAAC;8BAAkB,uCAAsB;+DAAC;AAGlE;IAAR,YAAK,EAAE;;;iDAUP;AAjBQ,qBAAqB;IAjDjC,gBAAS,CAAC;QACP,QAAQ,EAAE,gBAAgB;QAC1B,eAAe,EAAE,8BAAuB,CAAC,MAAM;QAC/C,QAAQ,EAAG,woBAaA;QACX,MAAM,EAAC,CAAC,4lBA8BV,CAAC;KACF,CAAC;GACW,qBAAqB,CAuBjC;AAvBY,sDAAqB","sourcesContent":["import {Component, Input, Output, EventEmitter, ViewChild, ElementRef, ChangeDetectionStrategy} from \"@angular/core\";\nimport {VirtualScrollComponent} from \"./virtual-scroll\";\n@Component({\n    selector: 'sh-select-menu',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    template:  `\n        <div class=\"menu\" *ngIf=\"isOpen && _rows\" style=\"min-height: 35px;background-color: white\">\n          <!--virtual-->\n          <virtual-scroll [items]=\"_rows\" (update)=\"viewPortItems = $event\"\n            [style.height]=\"math.min(290,38 * _rows.length) + 'px'\"\n            style=\"display: block\">         \n            <div class=\"item\"\n                 *ngFor=\"let row of viewPortItems\"\n                 [class.selected]=\"selectedValues?.indexOf(row) !== -1\"\n                 (click)=\"toggleSelected(row)\">\n              {{row.name || row}}\n            </div>\n          </virtual-scroll>\n        </div>`,\n    styles:[`.menu{\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  background-color: white;\n  width: 100%;\n  max-height: 300px;\n  overflow: auto;\n  box-sizing: border-box;\n  z-index: 999;\n  box-shadow: 0 2px 3px 0 rgba(34,36,38,.15);\n  border-bottom: 1px solid rgba(34,36,38,.15);\n  border-left: 1px solid rgba(34,36,38,.15);\n  border-right: 1px solid rgba(34,36,38,.15);\n  border-radius: 0 0 2px 2px;\n  min-width: max-content;\n}\n\n.item{\n  padding: 4px;\n  cursor: pointer;\n  white-space: nowrap;\n}\n.item:hover{\n  background-color: #efefef;\n}\n\n\n.item.selected{\n  font-weight: 900;\n}`]\n})\nexport class ShSelectMenuComponent{\n    @Input() selectedValues:any[];\n    @Input() isOpen:boolean;\n    @Output() noToggleClick:EventEmitter<any> = new EventEmitter<any>();\n    @ViewChild(VirtualScrollComponent) virtualScrollElm:VirtualScrollComponent;\n    math:any = Math;\n    _rows:any[];\n    @Input() set rows(val:any[]){\n        if(this.virtualScrollElm){\n            this.virtualScrollElm.scrollInto(this._rows[0])\n        }\n\n        this._rows = val;\n\n        if(this.virtualScrollElm) {\n            this.virtualScrollElm.refresh();\n        }\n    };\n\n    toggleSelected(row){\n        this.noToggleClick.emit(row);\n    }\n\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}